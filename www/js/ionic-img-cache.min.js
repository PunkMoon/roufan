!function(e){"use strict";function c(e,c){ImgCache.options.skipURIencoding=!0,ImgCache.options.debug=c.debug,ImgCache.options.localCacheFolder=c.folder,ImgCache.options.chromeQuota=1024*c.quota*1024,e.ready(function(){ImgCache.init(function(){var e="ionicImgCache initialized";c.debug&&(console.info?console.info(e):console.log(e))},function(){var e="Failed to init ionicImgCache.";c.debug&&(console.error?console.error(e):console.log(e))})})}function n(){var e=!1,c=50,n="ionic-img-cache";this.debug=function(c){e=!!c},this.quota=function(e){c=isFinite(e)?e:50},this.folder=function(e){n=""+e},this.$get=function(){return{debug:e,quota:c,folder:n}}}function o(c){function n(e){var n=c.defer();return i().then(function(){ImgCache.isCached(e,function(c,o){o?n.resolve(c):ImgCache.cacheFile(e,function(){ImgCache.isCached(e,function(e,c){n.resolve(e)},n.reject)},n.reject)},n.reject)}).catch(n.reject),n.promise}function o(e){var n=c.defer();return i().then(function(){ImgCache.isBackgroundCached(e,function(c,o){o?n.resolve(c):ImgCache.cacheBackground(e,function(){ImgCache.isBackgroundCached(e,function(e,c){n.resolve(e)},n.reject)},n.reject)},n.reject)}).catch(n.reject),n.promise}function t(){var e=c.defer();return i().then(function(){ImgCache.clearCache(e.resolve,e.reject)}).catch(e.reject),e.promise}function i(){var n=c.defer();return ImgCache.ready?n.resolve():e.addEventListener("ImgCacheReady",function(){n.resolve()},!1),n.promise}return{checkCacheStatus:n,checkBgCacheStatus:o,clearCache:t}}function t(e){function c(c,n,o){o.$observe("ngSrc",function(c){e.checkCacheStatus(c).then(function(){ImgCache.useCachedFile(n)})})}return{restrict:"A",link:c}}function i(e){function c(c,n,o){e.checkBgCacheStatus(n).then(function(){ImgCache.useCachedBackground(n)}),o.$observe("ngStyle",function(){e.checkBgCacheStatus(n).then(function(){ImgCache.useCachedBackground(n)})})}return{restrict:"A",link:c}}c.$inject=["$ionicPlatform","ionicImgCache"],o.$inject=["$q"],t.$inject=["ionImgCacheSrv"],i.$inject=["ionImgCacheSrv"],angular.module("ionicImgCache",["ionic"]).run(c).provider("ionicImgCache",n).factory("ionImgCacheSrv",o).directive("ionImgCache",t).directive("ionImgCacheBg",i)}(document);